{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Robotics Project Repository","text":"<p>Welcome to this Brian\u00b4s project repository.  </p> <p>This repository contains resources, code, and documentation related to robotics projects.</p>"},{"location":"#project-information","title":"Project Information","text":"<p>You can add any relevant information about the project here, such as:</p> <ul> <li>Objectives of the project  </li> <li>Components used (microcontrollers, sensors, actuators, etc.)  </li> <li>Instructions for running the code or simulations  </li> <li>Any additional notes or references</li> </ul> <p>Feel free to explore the repository and use the resources for learning and developing robotics projects!</p>"},{"location":"Exercise1/","title":"Application of Frame Transformations","text":""},{"location":"Exercise1/#exercise-1","title":"Exercise 1","text":"<p>Rotation about Y_A (45\u00b0):</p> <p>[  0.707   0      0.707 ] [  0       1      0     ] [ -0.707   0      0.707 ]  </p> <p>Rotation about X_A (60\u00b0):</p> <p>[  1       0      0     ] [  0       0.5   -0.866 ] [  0       0.866  0.5   ]  </p> <p>Total rotation R = R_X(60\u00b0) \u00b7 R_Y(45\u00b0):</p> <p>[  0.707   0      0.707 ] [ -0.612   0.5    0.612 ] [  0.866   0.354 -0.354 ]  </p>"},{"location":"Exercise1/#exercise-2","title":"Exercise 2","text":"<p>Translation vector p_B:</p> <p>[  5 ] [ 10 ] [  0 ]  </p> <p>Rotation matrix R_B = R_X(30\u00b0):</p> <p>[  1       0      0     ] [  0       0.866 -0.5   ] [  0       0.5    0.866 ]  </p> <p>Homogeneous transformation T_B:</p> <p>[  1       0      0      5 ] [  0       0.866 -0.5   10 ] [  0       0.5    0.866  0 ] [  0       0      0      1 ]  </p>"},{"location":"Exercise1/#exercise-3","title":"Exercise 3","text":"<p>Transformation from B to C (30\u00b0 tilt + translation [3, 0, 2]):</p> <p>T_BC = [  0.866   0    0.5    3 ] [  0       1    0      0 ] [ -0.5     0    0.866  2 ] [  0       0    0      1 ]  </p> <p>Final result:  </p> <p>T_C = [  0.866   0     0.5     8     ] [ -0.433   0.866 0.25    10.732 ] [ -0.25    0.5   0.866   2.732 ] [  0       0     0      1     ]  </p>"},{"location":"Exercise1/#conclusion","title":"Conclusion","text":"<ul> <li>Exercise 1: Sequential rotations about different axes.  </li> <li>Exercise 2: Homogeneous transformation matrix with rotation and translation.  </li> <li>Exercise 3: Final homogeneous transformation matrix for frame {C} with respect to {A}.  </li> </ul>"},{"location":"Forward%20Kinematics/","title":"Forward Kinematics","text":"<p>This repository is used to document Denavit\u2013Hartenberg (DH) frame placement and homogeneous transformation matrices for diferent robots.</p>"},{"location":"Forward%20Kinematics/#robot-1","title":"Robot 1","text":""},{"location":"Forward%20Kinematics/#robot-photo","title":"Robot Photo","text":""},{"location":"Forward%20Kinematics/#frame-assignment-scheme","title":"Frame Assignment / Scheme","text":""},{"location":"Forward%20Kinematics/#dh-table-and-matrixes","title":"DH Table and matrixes","text":""},{"location":"Forward%20Kinematics/#matrix","title":"Matrix","text":""},{"location":"Forward%20Kinematics/#robot-2","title":"Robot 2","text":""},{"location":"Forward%20Kinematics/#robot-photo_1","title":"Robot Photo","text":""},{"location":"Forward%20Kinematics/#frame-assignment-scheme_1","title":"Frame Assignment / Scheme","text":""},{"location":"Forward%20Kinematics/#dh-table","title":"DH Table","text":""},{"location":"Forward%20Kinematics/#matrix_1","title":"Matrix","text":""},{"location":"Forward%20Kinematics/#result","title":"Result","text":""},{"location":"Forward%20Kinematics/#robot-3","title":"Robot 3","text":""},{"location":"Forward%20Kinematics/#robot-photo_2","title":"Robot Photo","text":""},{"location":"Forward%20Kinematics/#frame-assignment-scheme_2","title":"Frame Assignment / Scheme","text":""},{"location":"Forward%20Kinematics/#dh-table_1","title":"DH Table","text":""},{"location":"Forward%20Kinematics/#matrix_2","title":"Matrix","text":""},{"location":"Forward%20Kinematics/#robot-4","title":"Robot 4","text":""},{"location":"Forward%20Kinematics/#robot-photo_3","title":"Robot Photo","text":""},{"location":"Forward%20Kinematics/#frame-assignment-scheme_3","title":"Frame Assignment / Scheme","text":""},{"location":"Forward%20Kinematics/#dh-table_2","title":"DH Table","text":""},{"location":"Forward%20Kinematics/#trigonometric-notation","title":"Trigonometric Notation","text":"<p>c\u1d62 = cos(\u03b8\u1d62) s\u1d62 = sin(\u03b8\u1d62)  </p> <p>c\u2082\u2083 = cos(\u03b8\u2082 + \u03b8\u2083) s\u2082\u2083 = sin(\u03b8\u2082 + \u03b8\u2083)  </p> <p>c\u2083 = cos(\u03b8\u2083 + \u03c0/2) s\u2083 = sin(\u03b8\u2083 + \u03c0/2)  </p> <p>c\u2085 = cos(\u03b8\u2085 + \u03c0/2) s\u2085 = sin(\u03b8\u2085 + \u03c0/2)  </p>"},{"location":"Forward%20Kinematics/#transformation-matrices","title":"Transformation Matrices","text":""},{"location":"Forward%20Kinematics/#a1","title":"A1","text":"<pre><code>A1 = [\n c1  0  -s1  0\n s1  0   c1  0\n 0  -1   0  13\n 0   0   0   1\n]\n</code></pre>"},{"location":"Forward%20Kinematics/#a2","title":"A2","text":"<pre><code>A2 = [\n c2 -s2 0 8c2\n s2  c2 0 8s2\n 0   0  1  0\n 0   0  0  1\n]\n</code></pre>"},{"location":"Forward%20Kinematics/#a3","title":"A3","text":"<pre><code>A3 = [\n -s3 0  c3 0\n  c3 0  s3 0\n  0  1  0 d3\n  0  0  0 1\n]\n</code></pre>"},{"location":"Forward%20Kinematics/#a4","title":"A4","text":"<pre><code>A4 = [\n c4  0 -s4  0\n s4  0  c4  0\n 0  -1  0 -d4\n 0   0  0  1\n]\n</code></pre>"},{"location":"Forward%20Kinematics/#a5","title":"A5","text":"<pre><code>A5 = [\n s5 0  c5 0\n -c5 0 s5 0\n 0  1  0  0\n 0  0  0  1\n]\n</code></pre>"},{"location":"Forward%20Kinematics/#a6","title":"A6","text":"<pre><code>A6 = [\n c6 -s6 0 0\n s6  c6 0 0\n 0   0  1 d6\n 0   0  0 1\n]\n</code></pre>"},{"location":"Forward%20Kinematics/#final-transformation-matrix","title":"Final Transformation Matrix","text":"<pre><code>T06 = [\n r11 r12 r13 px\n r21 r22 r23 py\n r31 r32 r33 pz\n 0   0   0   1\n]\n</code></pre>"},{"location":"Forward%20Kinematics/#rotation-terms","title":"Rotation Terms","text":"<pre><code>r11 = c1*c23*c4*s5 + c1*s23*c5 - s1*s4*s5\n\nr12 = c6*(c1*c23*s4 + s1*c4)\n      - s6*(c1*c23*c4*c5 - c1*s23*s5 - s1*s4*c5)\n\nr13 = s6*(c1*c23*s4 + s1*c4)\n      + c6*(c1*c23*c4*c5 - c1*s23*s5 - s1*s4*c5)\n\nr21 = s1*c23*c4*s5 + s1*s23*c5 + c1*s4*s5\n\nr22 = c6*(s1*c23*s4 - c1*c4)\n      - s6*(s1*c23*c4*c5 - s1*s23*s5 + c1*s4*c5)\n\nr23 = s6*(s1*c23*s4 - c1*c4)\n      + c6*(s1*c23*c4*c5 - s1*s23*s5 + c1*s4*c5)\n\nr31 = s23*c4*s5 - c23*c5\n\nr32 = c6*s23*s4\n      - s6*(s23*c4*c5 + c23*s5)\n\nr33 = s6*s23*s4\n      + c6*(s23*c4*c5 + c23*s5)\n</code></pre>"},{"location":"Forward%20Kinematics/#position-terms","title":"Position Terms","text":"<pre><code>px = c1*(8*c2 + 8*c23 - d4*s23) - d3*s1\n\npy = s1*(8*c2 + 8*c23 - d4*s23) + d3*c1\n\npz = 13 + 8*s2 + 8*s23 + d4*c23 + d6\n</code></pre>"},{"location":"Forward%20Kinematics/#robot-5","title":"Robot 5","text":""},{"location":"Forward%20Kinematics/#robot-photo_4","title":"Robot Photo","text":""},{"location":"Forward%20Kinematics/#frame-assignment-scheme_4","title":"Frame Assignment / Scheme","text":""},{"location":"Forward%20Kinematics/#dh-table_3","title":"DH Table","text":""},{"location":"Forward%20Kinematics/#matrix_3","title":"Matrix","text":""},{"location":"Forward%20Kinematics/#result_1","title":"Result","text":""},{"location":"activity/","title":"Activity","text":"<p>This repository is used to document Denavit\u2013Hartenberg (DH) frame placement for the KUKA KG6 &amp; UR robots </p>"},{"location":"activity/#kuka","title":"KUKA","text":""},{"location":"activity/#robot-photo","title":"Robot Photo","text":""},{"location":"activity/#frame-assignment-scheme","title":"Frame Assignment / Scheme","text":""},{"location":"activity/#dh-table","title":"DH Table","text":"Joint d \u03b8 a \u03b1 1 -435 \u03b8\u2081 260 \u03c0/2 2 0 \u03b8\u2082 -680 0 3 0 \u03b8\u2083 0 -\u03c0/2 4 -630 \u03b8\u2084 0 \u03c0/2 5 0 \u03b8\u2085 0 -\u03c0/2 6 -135 \u03b8\u2086 0 0"},{"location":"activity/#ur","title":"UR","text":""},{"location":"activity/#robot-photo_1","title":"Robot Photo","text":""},{"location":"activity/#frame-assignment-scheme_1","title":"Frame Assignment / Scheme","text":""},{"location":"activity/#dh-table_1","title":"DH Table","text":"Joint d \u03b8 a \u03b1 1 162 q\u2082 + \u03c0/2 \u2205 \u03c0/2 2 \u2205 q\u2082 + \u03c0/2 425 \u2205 3 \u2205 q\u2083 392 \u2205 4 133 q\u2084 - \u03c0/2 \u2205 -\u03c0/2 5 100 q\u2085 \u2205 \u03c0/2 6 42 q\u2086 + \u03c0/2 \u2205 \u2205"},{"location":"leds/","title":"Battery and LED Panel Service Project","text":""},{"location":"leds/#description","title":"Description","text":"<p>This project demonstrates a ROS 2 service\u2013client architecture combined with a publisher\u2013subscriber pattern. A Battery node simulates battery discharge and communicates with a LED Panel node through a service interface to control LEDs. The LED Panel publishes its state continuously, while the Battery requests LED changes when the battery reaches certain conditions.</p>"},{"location":"leds/#nodes-overview","title":"Nodes Overview","text":"<ul> <li>Battery </li> <li>Simulates battery discharge from 100% down to 0%  </li> <li>Calls the <code>set_led</code> service to control LED states  </li> <li> <p>Resets battery level after reaching 0%  </p> </li> <li> <p>LED Panel </p> </li> <li>Provides the <code>set_led</code> service to update LED states  </li> <li>Publishes LED states on the <code>led_panel_state</code> topic  </li> <li>Maintains internal LED array <code>[0,0,0]</code> </li> </ul>"},{"location":"leds/#source-codes","title":"Source Codes","text":""},{"location":"leds/#batterypy","title":"battery.py","text":"<pre><code>#!/usr/bin/env python3\n\nimport rclpy\nfrom rclpy.node import Node\nfrom brian_interfaces.srv import Ledset\nfrom time import sleep\n\nclass Battery(Node):\n\n    def __init__(self):\n        super().__init__(\"battery\")\n\n        self.client = self.create_client(Ledset, \"set_led\")\n        while not self.client.wait_for_service(timeout_sec=1.0):\n            self.get_logger().info(\"Waiting for set_led service...\")\n\n        self.battery_level = 100\n        self.timer = self.create_timer(0.25, self.update_battery)\n\n        self.get_logger().info(\"Battery node started at 100%\")\n\n    def update_battery(self):\n        self.get_logger().info(f\"Battery level: {self.battery_level}%\")\n\n        if self.battery_level == 0:\n            self.set_leds([0, 0, 1])\n            self.get_logger().info(\"Battery empty! Resetting...\")\n            sleep(4)\n            self.set_leds([0, 0, 0])\n            self.battery_level = 101  \n\n        self.battery_level -= 1\n\n    def set_leds(self, states):\n        for i, state in enumerate(states):\n            request = Ledset.Request()\n            request.led_index = i\n            request.state = bool(state)\n            self.client.call_async(request)\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = Battery()\n    rclpy.spin(node)\n    rclpy.shutdown()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"leds/#led_panelpy","title":"led_panel.py","text":"<pre><code>#!/usr/bin/env python3\n\nimport rclpy\nfrom rclpy.node import Node\nfrom brian_interfaces.msg import Led\nfrom brian_interfaces.srv import Ledset\n\nclass LedPanel(Node):\n\n    def __init__(self):\n        super().__init__(\"led_panel\")\n\n        self.leds = [0, 0, 0]\n        self.publisher = self.create_publisher(Led, \"led_panel_state\", 10)\n        self.service = self.create_service(Ledset, \"set_led\", self.set_led_callback)\n        self.timer = self.create_timer(0.25, self.publish_state)\n\n        self.get_logger().info(\"LED Panel Ready\")\n\n    def publish_state(self):\n        msg = Led()\n        msg.leds = self.leds\n        self.publisher.publish(msg)\n        self.get_logger().info(f\"LEDs state: {self.leds}\")\n\n    def set_led_callback(self, request, response):\n        index = request.led_index\n        state = request.state\n\n        if 0 &lt;= index &lt; len(self.leds):\n            self.leds[index] = 1 if state else 0\n            response.success = True\n            self.get_logger().info(f\"LED {index} -&gt; {'ON' if state else 'OFF'}\")\n        else:\n            response.success = False\n\n        return response\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = LedPanel()\n    rclpy.spin(node)\n    rclpy.shutdown()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"leds/#custom-interfaces","title":"Custom Interfaces","text":""},{"location":"leds/#ledmsg","title":"Led.msg","text":"<pre><code>int32[] leds\n</code></pre>"},{"location":"leds/#ledsetsrv","title":"Ledset.srv","text":"<pre><code>int32 led_index\nbool state\n---\nbool success\n</code></pre>"},{"location":"leds/#execution","title":"Execution","text":"<pre><code>ros2 run brians_pkg battery\nros2 run brians_pkg led_panel\nrqt_graph\n</code></pre>"},{"location":"leds/#terminal-output","title":"Terminal Output","text":"<p>in this photo you can see the battery node and the led panel node when the battery gets to 0 it turns on the led light in the third position </p> <p></p> <p>in this photo you can see the battery node and the led panel node when the battery is recharged it resets the led lights  </p> <p>in these photos you can see the eco and the equivalent reaccion in the third terminal</p> <p> </p>"},{"location":"leds/#results","title":"Results","text":""},{"location":"leds/#_1","title":"Battery and LED Panel Service Project","text":""},{"location":"reset_counter/","title":"Reset Counter Service Project","text":""},{"location":"reset_counter/#description","title":"Description","text":"<p>This project demonstrates a ROS 2 publisher\u2013subscriber architecture with an additional service interface. A publisher sends string messages periodically on a topic, while a listener node receives them, counts each message, publishes a response, and provides a service to reset the counter.</p>"},{"location":"reset_counter/#nodes-overview","title":"Nodes Overview","text":"<ul> <li> <p>publisher   Publishes string messages to the <code>speaker</code> topic.</p> </li> <li> <p>listener </p> </li> <li>Subscribes to the <code>speaker</code> topic  </li> <li>Counts the received messages  </li> <li>Publishes responses on <code>listener_response</code> </li> <li>Provides a service <code>reset_listener</code> to reset the counter  </li> </ul>"},{"location":"reset_counter/#source-codes","title":"Source Codes","text":""},{"location":"reset_counter/#listenerpy","title":"listener.py","text":"<pre><code>import rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.msg import String\nfrom example_interfaces.srv import SetBool\n\n\nclass Listener(Node):\n    def __init__(self):\n        super().__init__(\"listener\")\n        self.counter = 0\n        self.create_subscription(\n            String,\n            \"speaker\",\n            self.callback,\n            10\n        )\n\n        self.publisher_ = self.create_publisher(\n            String,\n            \"listener_response\",\n            10\n        )\n        self.create_service(\n            SetBool,\n            \"reset_listener\",\n            self.handle_service\n        )\n\n        self.get_logger().info(\"Listener with reset service ready\")\n\n    def callback(self, msg):\n        self.counter += 1\n\n        self.get_logger().info(\n            f\"Message #{self.counter}: {msg.data}\"\n        )\n\n        response = String()\n        response.data = f\"Received {self.counter} messages\"\n        self.publisher_.publish(response)\n\n    def handle_service(self, request, response):\n\n        if request.data:\n            self.counter = 0\n            response.message = \"Counter reset to 0\"\n        else:\n            response.message = \"Counter continues without reset\"\n\n        response.success = True\n        return response\n\n\ndef main():\n    rclpy.init()\n    node = Listener()\n    rclpy.spin(node)\n    rclpy.shutdown()\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"reset_counter/#number_publisherpy","title":"number_publisher.py","text":"<pre><code>#!/usr/bin/env python3\n\nimport rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.msg import String\n\nclass MyNode(Node):\n    def _init_(self):\n        super()._init_(\"py_test\")\n        self.counter = 0\n        self.get_logger().info(\"ok ok\")\n        self.create_timer(1.0, self.timer_callback)  # Create a timer that calls timer_callback every 1 second\n        self.publisher_ = self.create_publisher(String,'speaker',10)\n    def timer_callback(self):\n     self.get_logger().info(\"Timer callback called\")\n     msg = String()\n     msg.data = 'hello hello : %d' % self.counter\n     self.publisher_.publish(msg) \n\ndef main(args=None):\n    rclpy.init(args=args) # Initialize rclpy\n    my_node = MyNode()  # Create an instance of the MyNode class\n    rclpy.spin(my_node)  # Keep the node running\n    rclpy.shutdown()      # Shutdown rclpy\n\nif _name_ == \"_main_\":\n   main()\n</code></pre>"},{"location":"reset_counter/#execution","title":"Execution","text":"<pre><code>ros2 run brians_pkg r2d2\nros2 run brians_pkg listener\nros2 service call /reset_listener example_interfaces/srv/SetBool \"{data: true}\"\nros2 service call /reset_listener example_interfaces/srv/SetBool \"{data: false}\"\nrqt_graph\n</code></pre>"},{"location":"reset_counter/#terminal-output","title":"Terminal Output","text":"<p>in this photo you can see in the terminal on the top right corner de counter resetting to 1  </p> <p>in this photo you can see that the comand went thru on the bottom left corner </p> <p></p> <p>in this photo you can see the comand not changing the outcome of the counter do to the fact the value given is \"false\" </p> <p></p>"},{"location":"reset_counter/#results","title":"Results","text":"<p>Here is a screenshot of the terminal output showing the publisher and listener in action: </p>"},{"location":"rosp%26l/","title":"ROS 2 Publisher and Subscriber Project","text":""},{"location":"rosp%26l/#description","title":"Description","text":"<p>This project demonstrates a basic ROS 2 publisher\u2013subscriber architecture. A fixed number is published periodically on a topic, received by another node, accumulated, and then republished. The project also includes a simple string listener example.</p>"},{"location":"rosp%26l/#nodes-overview","title":"Nodes Overview","text":"<ul> <li>publisher: Publishes a fixed integer value to <code>/number</code></li> <li>listener: Subscribes to a string topic named <code>speaker</code></li> </ul>"},{"location":"rosp%26l/#source-code","title":"Source Code","text":""},{"location":"rosp%26l/#number_publisherpy","title":"number_publisher.py","text":"<pre><code>#!/usr/bin/env python3\n\nimport rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.msg import String\n\nclass MyNode(Node):\n    def _init_(self):\n        super()._init_(\"py_test\")\n        self.counter = 0\n        self.get_logger().info(\"ok ok\")\n        self.create_timer(1.0, self.timer_callback)  # Create a timer that calls timer_callback every 1 second\n        self.publisher_ = self.create_publisher(String,'speaker',10)\n    def timer_callback(self):\n     self.get_logger().info(\"Timer callback called\")\n     msg = String()\n     msg.data = 'hello hello : %d' % self.counter\n     self.publisher_.publish(msg) \n\ndef main(args=None):\n    rclpy.init(args=args) # Initialize rclpy\n    my_node = MyNode()  # Create an instance of the MyNode class\n    rclpy.spin(my_node)  # Keep the node running\n    rclpy.shutdown()      # Shutdown rclpy\n\nif _name_ == \"_main_\":\n   main()\n</code></pre>"},{"location":"rosp%26l/#listenerpy","title":"listener.py","text":"<pre><code>import rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.msg import String\n\nclass Listener(Node):\n    def __init__(self):\n        super().__init__(\"listener\")\n\n\n        self.create_subscription(\n            String,\n            \"speaker\",\n            self.callback,\n            10\n        )\n\n\n        self.publisher_ = self.create_publisher(String, \"listener_response\", 10)\n\n    def callback(self, msg):\n\n        self.get_logger().info(f\"I Heard: {msg.data}\")\n\n\n        response = String()\n        response.data = f\"Received: {msg.data}\"\n\n\n        self.publisher_.publish(response)\n        self.get_logger().info(f\"Sent Response: {response.data}\")\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = Listener()\n    rclpy.spin(node)\n    rclpy.shutdown()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"rosp%26l/#execution","title":"Execution","text":"<pre><code>ros2 run brians_pkg r2d2\nros2 run brians_pkg listener\n</code></pre>"},{"location":"rosp%26l/#terminal-output","title":"Terminal Output","text":""},{"location":"rosp%26l/#results","title":"Results","text":"<p>Here is a screenshot of the terminal output showing the publisher and listener in action: </p>"},{"location":"rosp%26l/#conclusion","title":"Conclusion","text":"<p>This project validates the use of ROS 2 nodes for inter-process communication using topics. The publisher\u2013subscriber pattern allows data to be shared and processed in real time, serving as a foundational concept for distributed robotic systems and future mechatronics applications.</p>"},{"location":"turtleism/","title":"Turtle Catcher Project","text":""},{"location":"turtleism/#description","title":"Description","text":"<p>This project implements a ROS 2 system to control a turtle in turtlesim that chases and catches other turtles spawned randomly. It consists of two main nodes: one that controls the movement of the main turtle and another that handles the spawning and management of alive turtles.</p>"},{"location":"turtleism/#nodes-overview","title":"Nodes Overview","text":"<ul> <li>turtle_controller </li> <li>Subscribes to the main turtle\u2019s position (<code>/turtle1/pose</code>)  </li> <li>Subscribes to the list of alive turtles (<code>/alive_turtles</code>)  </li> <li>Publishes velocity commands (<code>/turtle1/cmd_vel</code>)  </li> <li> <p>Calls the <code>/catch_turtle</code> service to remove a turtle once caught  </p> </li> <li> <p>turtle_spawner </p> </li> <li>Spawns new turtles at random positions using the <code>spawn</code> service  </li> <li>Publishes the list of alive turtles on the <code>alive_turtles</code> topic  </li> <li>Provides the <code>catch_turtle</code> service to remove caught turtles  </li> <li>Uses the <code>kill</code> service to remove turtles from the simulator  </li> </ul>"},{"location":"turtleism/#source-codes","title":"Source Codes","text":""},{"location":"turtleism/#turtle_controllerpy","title":"turtle_controller.py","text":"<pre><code>import rclpy\nfrom rclpy.node import Node\nimport math\n\nfrom geometry_msgs.msg import Twist\nfrom turtlesim.msg import Pose\n\nfrom brian_interfaces.msg import TurtleArray\nfrom brian_interfaces.srv import CatchTurtle\n\n\nclass TurtleController(Node):\n\n    def __init__(self):\n        super().__init__(\"turtle_controller\")\n\n\n        self.cmd_pub = self.create_publisher(\n            Twist,\n            \"/turtle1/cmd_vel\",\n            10\n        )\n\n\n        self.pose_sub = self.create_subscription(\n            Pose,\n            \"/turtle1/pose\",\n            self.pose_callback,\n            10\n        )\n\n        self.alive_sub = self.create_subscription(\n            TurtleArray,\n            \"/alive_turtles\",\n            self.alive_callback,\n            10\n        )\n\n\n        self.catch_client = self.create_client(\n            CatchTurtle,\n            \"/catch_turtle\"\n        )\n\n\n        self.current_pose = None\n        self.list_turtles = []\n        self.target = None\n\n\n        self.declare_parameter(\"k_linear\", 2.0)\n        self.declare_parameter(\"k_angular\", 6.0)\n\n        self.k_linear = self.get_parameter(\"k_linear\").value\n        self.k_angular = self.get_parameter(\"k_angular\").value\n\n        self.dt = 0.01\n        self.create_timer(self.dt, self.timer_callback)\n\n    def pose_callback(self, msg: Pose):\n        self.current_pose = msg\n\n    def alive_callback(self, msg: TurtleArray):\n        self.list_turtles = msg.turtles\n\n    def timer_callback(self):\n\n\n        if self.target is None and len(self.list_turtles) &gt; 0:\n            self.target = self.list_turtles[0]\n\n        if self.current_pose is None or self.target is None:\n            return\n\n\n        dx = self.target.x - self.current_pose.x\n        dy = self.target.y - self.current_pose.y\n\n\n        distance = math.hypot(dx, dy)\n\n        angle_to_target = math.atan2(dy, dx)\n        angle_error = angle_to_target - self.current_pose.theta\n\n\n        angle_error = math.atan2(\n            math.sin(angle_error),\n            math.cos(angle_error)\n        )\n\n\n        cmd = Twist()\n        cmd.linear.x = self.k_linear * distance\n        cmd.angular.z = self.k_angular * angle_error\n\n\n        if distance &lt; 0.3:\n            cmd.linear.x = 0.0\n            cmd.angular.z = 0.0\n            self.call_catch_service(self.target.name)\n            self.target = None\n\n        self.cmd_pub.publish(cmd)\n\n    def call_catch_service(self, name):\n\n        if not self.catch_client.wait_for_service(timeout_sec=1.0):\n            self.get_logger().warn(\"Catch service not available\")\n            return\n\n        request = CatchTurtle.Request()\n        request.name = name\n\n        future = self.catch_client.call_async(request)\n        future.add_done_callback(self.catch_response)\n\n    def catch_response(self, future):\n        try:\n            response = future.result()\n            if response.success:\n                self.get_logger().info(\"Turtle killed\")\n            else:\n                self.get_logger().warn(\"Failed to kill turtle\")\n        except Exception as e:\n            self.get_logger().error(f\"Service call failed: {e}\")\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = TurtleController()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>"},{"location":"turtleism/#turtle_spawnerpy","title":"turtle_spawner.py","text":"<pre><code>import rclpy\nfrom rclpy.node import Node\nimport random\nfrom turtlesim.srv import Spawn, Kill\nfrom brian_interfaces.msg import Turtle, TurtleArray\nfrom brian_interfaces.srv import CatchTurtle\n\nclass TurtleSpawner(Node):\n    def __init__(self):\n        super().__init__(\"turtle_spawner\")\n\n\n        self.declare_parameter(\"spawn_frequency\", 1.0)\n        self.declare_parameter(\"turtle_name_prefix\", \"turtle\")\n\n        self.spawn_frequency = self.get_parameter(\"spawn_frequency\").value\n        self.turtle_name_prefix = self.get_parameter(\"turtle_name_prefix\").value\n\n\n        self.alive_turtles = []\n\n\n        self.alive_pub = self.create_publisher(TurtleArray, \"alive_turtles\", 10)\n\n        self.create_timer(3.0 / self.spawn_frequency, self.spawn_turtle)\n\n        self.spawn_client = self.create_client(Spawn, \"spawn\")\n        self.kill_client = self.create_client(Kill, \"kill\")\n\n\n        self.catch_service = self.create_service(\n            CatchTurtle, \"catch_turtle\", self.catch_turtle_callback\n        )\n\n    def spawn_turtle(self):\n        if not self.spawn_client.wait_for_service(timeout_sec=1.0):\n            self.get_logger().warn(\"Spawn service not available\")\n            return\n\n        req = Spawn.Request()\n        req.x = random.uniform(0.5, 10.5)\n        req.y = random.uniform(0.5, 10.5)\n        req.theta = random.uniform(0.0, 6.28)\n        req.name = f\"{self.turtle_name_prefix}_{len(self.alive_turtles)}\"\n\n        future = self.spawn_client.call_async(req)\n        future.add_done_callback(lambda f: self.add_turtle(req))\n\n    def add_turtle(self, req):\n        turtle = Turtle()\n        turtle.name = req.name\n        turtle.x = req.x\n        turtle.y = req.y\n        turtle.theta = req.theta\n        self.alive_turtles.append(turtle)\n        self.publish_alive()\n\n    def catch_turtle_callback(self, request, response):\n        name = request.name\n        if not self.kill_client.wait_for_service(timeout_sec=1.0):\n            self.get_logger().warn(\"Kill service not available\")\n            response.success = False\n            return response\n\n        kill_req = Kill.Request()\n        kill_req.name = name\n        future = self.kill_client.call_async(kill_req)\n\n\n        self.alive_turtles = [t for t in self.alive_turtles if t.name != name]\n        self.publish_alive()\n\n        response.success = True\n        return response\n\n    def publish_alive(self):\n        msg = TurtleArray()\n        msg.turtles = self.alive_turtles\n        self.alive_pub.publish(msg)\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = TurtleSpawner()\n    rclpy.spin(node)\n    rclpy.shutdown()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"turtleism/#turtle_launchxml","title":"turtle_launch.xml","text":"<pre><code>&lt;launch&gt;\n\n    &lt;node pkg=\"turtlesim\" exec=\"turtlesim_node\" name=\"turtlesim\" /&gt;\n\n    &lt;node pkg=\"brians_pkg\" exec=\"turtle_spawner\"&gt;\n        &lt;param from=\"$(find-pkg-share bring_up)/config/turtle.yaml\" /&gt;\n    &lt;/node&gt;\n\n    &lt;node pkg=\"brians_pkg\" exec=\"turtle_controller\"&gt;\n        &lt;param from=\"$(find-pkg-share bring_up)/config/turtle.yaml\" /&gt;\n    &lt;/node&gt;\n\n&lt;/launch&gt;\n</code></pre>"},{"location":"turtleism/#turtleyaml","title":"turtle.yaml","text":"<pre><code>turtle_controller:\n  ros__parameters:\n    k_linear: 2.0\n    k_angular: 6.0\n    k_i_linear: 0.0\n    k_i_angular: 0.0\n\nturtle_spawner:\n  ros__parameters:\n    spawn_frequency: 1.1\n    turtle_name_prefix: \"turtle\"\n</code></pre>"},{"location":"turtleism/#turtlemsg","title":"Turtle.msg","text":"<pre><code>string name \nfloat32 x\nfloat32 y\nfloat32 theta\n</code></pre>"},{"location":"turtleism/#turtlearraymsg","title":"TurtleArray.msg","text":"<pre><code>Turtle[] turtles\n</code></pre>"},{"location":"turtleism/#catchturtlesrv","title":"CatchTurtle.srv","text":"<pre><code>string name\n---\nbool success\n</code></pre>"},{"location":"turtleism/#execution","title":"Execution","text":"<pre><code>ros2 launch bring_up turtle_launch.xml\nrqt_graph\n</code></pre>"},{"location":"turtleism/#terminal-output","title":"Terminal Output","text":""},{"location":"turtleism/#demo-video","title":"Demo Video","text":"<p>full video</p>"},{"location":"turtleism/#results","title":"Results","text":""}]}